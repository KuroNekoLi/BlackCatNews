# Google ÁôªÂÖ•ÊµÅÁ®ãÊôÇÂ∫èÂúñ

## üìã Ê¶ÇËø∞

Êú¨ÊñáÊ™îË™™Êòé BlackCatNews ÊáâÁî®Á®ãÂºè‰∏≠Ôºå‰ΩøÁî®ËÄÖÊåâ‰∏ã Google ÁôªÂÖ•ÊåâÈàïÂæåÁöÑÂÆåÊï¥Âü∑Ë°åÊµÅÁ®ã„ÄÇ

## üèóÔ∏è Êû∂ÊßãÂ±§Ê¨°

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    UI Layer (Compose)                    ‚îÇ
‚îÇ  SignInScreen ‚Üí rememberSignInUIClients()               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ               Presentation Layer (ViewModel)             ‚îÇ
‚îÇ  SignInViewModel ‚Üí dispatch(Action) ‚Üí performSignIn()   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  Domain Layer (UseCase)                  ‚îÇ
‚îÇ  SignInUseCase ‚Üí È©óË≠â ‚Üí ÂçîË™ø UIClient Âíå AuthManager     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            Data Layer (Repository/Manager)               ‚îÇ
‚îÇ  AuthManager ‚Üí GoogleAuthProvider ‚Üí Firebase Auth       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                         ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 External Services                        ‚îÇ
‚îÇ  Firebase Authentication Service                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üé¨ ÂÆåÊï¥ÊµÅÁ®ãÊôÇÂ∫èÂúñ

### Phase 1: ÂàùÂßãÂåñÈöéÊÆµÔºàApp ÂïüÂãïÊôÇÔºâ

```
MainActivity    App.kt    AppNavigation    rememberSignInUIClients    SignInUIClientBuilder
    |            |             |                      |                         |
    |--onCreate()->|            |                      |                         |
    |            |--setup------>|                      |                         |
    |            |             |                      |                         |
    |            |             |--composable-------->|                         |
    |            |             |   SignInRoute        |                         |
    |            |             |                      |                         |
    |            |             |                      |--ÂâµÂª∫ Builder---------->|
    |            |             |                      |                         |
    |            |             |                      |--Áç≤Âèñ Activity/Provider->|
    |            |             |                      |   (Âπ≥Âè∞ÁâπÂÆö)             |
    |            |             |                      |                         |
    |            |             |                      |<--UIClients Map---------|
    |            |             |<--uiClients---------|                         |
    |            |             |                      |                         |
    |            |             |--koinViewModel------>|                         |
    |            |             |  (parametersOf)      |                         |
    |            |             |                      |                         |
```

**Ë™™Êòé**Ôºö

1. `MainActivity` ÂïüÂãïÂæåËºâÂÖ• `App` composable
2. `AppNavigation` Ë®≠ÁΩÆÂ∞éËà™Ë∑ØÁî±
3. Âú® `SignInRoute` composable ‰∏≠Ôºö
    - ÂëºÂè´ `rememberSignInUIClients()` ÂâµÂª∫ UIClient Map
    - ‰ΩøÁî® Koin `parametersOf` ÂâµÂª∫ ViewModel

---

## üì± Ë©≥Á¥∞ÊµÅÁ®ãÂúñ

### Phase 2: ‰ΩøÁî®ËÄÖÈªûÊìä Google ÁôªÂÖ•ÊåâÈàï

```
User  SignInScreen  SignInViewModel  SignInUseCase  AndroidGoogleUIClient  CredentialManager  Firebase
 |         |              |                |                  |                    |             |
 |--ÈªûÊìä--->|              |                |                  |                    |             |
 |         |              |                |                  |                    |             |
 |         |--onGoogleClick()-->           |                  |                    |             |
 |         |              |                |                  |                    |             |
 |         |              |--dispatch(ClickGoogle)            |                    |             |
 |         |              |                |                  |                    |             |
```

### Phase 3: ViewModel ËôïÁêÜ‰∫ã‰ª∂

```
SignInViewModel  SignInUseCase  UIClients Map  AndroidGoogleUIClient  CredentialManager
      |                |              |                  |                    |
      |--performSignIn(Google)        |                  |                    |
      |                |              |                  |                    |
      |--emit(Loading)                |                  |                    |
      |                |              |                  |                    |
      |--invoke(Google, uiClients)--->|                  |                    |
      |                |              |                  |                    |
      |                |--Ê™¢Êü•ÊîØÊè¥---->|                  |                    |
      |                |              |                  |                    |
      |                |<--GoogleUIClient----------------|                    |
      |                |              |                  |                    |
      |                |--getCredential()--------------->|                    |
      |                |              |                  |                    |
```

### Phase 4: Android Âπ≥Âè∞Áç≤Âèñ Google ÊÜëË≠â

```
AndroidGoogleUIClient  CredentialManager  Google SDK  User  Firebase SDK
         |                    |               |        |         |
         |--getGoogleCredentials()            |        |         |
         |                    |               |        |         |
         |--getCredential()-->|               |        |         |
         |                    |               |        |         |
         |                    |--Ë´ãÊ±Ç Google-->|        |         |
         |                    |    Sign-In    |        |         |
         |                    |               |        |         |
         |                    |               |--È°ØÁ§∫---> ÈÅ∏ÊìáÂô® |
         |                    |               |<-ÈÅ∏Êìá--|         |
         |                    |               |  Â∏≥Ëôü  |         |
         |                    |               |        |         |
         |                    |<--ID Token----|        |         |
         |                    |               |        |         |
         |<--Credential-------|               |        |         |
         |  (ID Token)        |               |        |         |
         |                    |               |        |         |
         |--GoogleAuthProvider.credential()--------------->     |
         |                    |               |        |         |
         |<--AuthCredential--------------------------------|     |
         |                    |               |        |         |
```

**ÈóúÈçµÊ≠•È©ü**Ôºö

1. ‰ΩøÁî® Android Credential Manager API
2. È°ØÁ§∫ Google Â∏≥ËôüÈÅ∏ÊìáÂô®
3. ‰ΩøÁî®ËÄÖÈÅ∏ÊìáÂ∏≥Ëôü
4. Áç≤Âèñ Google ID Token
5. ÂåÖË£ùÊàê Firebase `AuthCredential`

### Phase 5: iOS Âπ≥Âè∞Áç≤Âèñ Google ÊÜëË≠â

```
GoogleUIClientImpl  GoogleAuthProvider  GoogleSignIn SDK  User  Swift Bridge
        |                  |                   |          |         |
        |--getCredential()-->                  |          |         |
        |                  |                   |          |         |
        |                  |--getCredentialWithViewController()    |
        |                  |                   |          |         |
        |                  |--ÂëºÂè´ Swift------>|          |         |
        |                  |                   |          |         |
        |                  |                   |--È°ØÁ§∫----> Google  |
        |                  |                   |          |  ÁôªÂÖ•   |
        |                  |                   |<-ÊéàÊ¨ä---|  Ë¶ñÂúñ   |
        |                  |                   |          |         |
        |                  |<--ID Token--------|          |         |
        |                  |   Access Token    |          |         |
        |                  |                   |          |         |
        |                  |--ÂåÖË£ù AuthCredential          |         |
        |                  |                   |          |         |
        |<--AuthCredential-|                   |          |         |
        |                  |                   |          |         |
```

### Phase 6: UseCase È©óË≠âËàáËôïÁêÜ

```
SignInUseCase  AuthCredential  AuthManager  GoogleAuthProvider  Firebase Auth
      |              |              |               |                 |
      |<--AuthCredential-----------|               |                 |
      |              |              |               |                 |
      |--È©óË≠â idToken              |               |                 |
      |   ‰∏çÁÇ∫Á©∫      |              |               |                 |
      |              |              |               |                 |
      |--authManager.signIn()----->|               |                 |
      |              |              |               |                 |
      |              |              |--ÊâæÂà∞ Provider->                |
      |              |              |  (GoogleAuthProvider)           |
      |              |              |               |                 |
      |              |              |--signIn()---->|                 |
      |              |              |               |                 |
      |              |              |               |--signInWithCredential()-->
      |              |              |               |                 |
      |              |              |               |                 |--È©óË≠â Token-->
      |              |              |               |                 |   Google    |
      |              |              |               |                 |<--Á¢∫Ë™çÊúâÊïà--|
      |              |              |               |                 |             |
      |              |              |               |<--FirebaseUser--|             |
      |              |              |               |                 |             |
      |              |              |<--UserSession-|                 |             |
      |              |              |               |                 |             |
      |<--Result.Success-----------|               |                 |             |
      |              |              |               |                 |             |
```

**È©óË≠âÊ≠•È©ü**Ôºö

1. Ê™¢Êü• ID Token ‰∏çÁÇ∫Á©∫
2. ÈÄèÈÅé `AuthManager` ÂàÜÁôºÂà∞ `GoogleAuthProvider`
3. ‰ΩøÁî® Firebase SDK È©óË≠âÊÜëË≠â
4. Firebase Âêë Google Á¢∫Ë™ç Token ÊúâÊïàÊÄß
5. ËøîÂõû `FirebaseUser` Áâ©‰ª∂

### Phase 7: ÁµêÊûúËøîÂõûËàá UI Êõ¥Êñ∞

```
SignInUseCase  SignInViewModel  reduceSignIn  SignInScreen  Navigation
      |              |                |             |             |
      |--Result.Success->             |             |             |
      |              |                |             |             |
      |              |--fold(onSuccess)             |             |
      |              |                |             |             |
      |              |--SignInResult.Success        |             |
      |              |                |             |             |
      |              |--reduceSignIn()->             |             |
      |              |                |             |             |
      |              |<--new State----|             |             |
      |              |                |             |             |
      |              |--_state.value = newState     |             |
      |              |                |             |             |
      |              |--emit(NavigateHome)          |             |
      |              |                |             |             |
      |              |                |             |--LaunchedEffect->
      |              |                |             |             |
      |              |                |             |             |--navigate(HomeRoute)-->
      |              |                |             |             |
      |              |                |             |<--È°ØÁ§∫‰∏ªÁï´Èù¢--|
      |              |                |             |             |
```

**UI Êõ¥Êñ∞ÊµÅÁ®ã**Ôºö

1. UseCase ËøîÂõû `Result.Success`
2. ViewModel ËΩâÊèõÁÇ∫ `SignInResult.Success`
3. Reducer Êõ¥Êñ∞ State
4. ÁôºÈÄÅ `NavigateHome` Effect
5. Screen ÁöÑ `LaunchedEffect` Áõ£ËÅΩÂà∞ Effect
6. Âü∑Ë°åÂ∞éËà™Âà∞‰∏ªÁï´Èù¢

---

## üîÑ ÈåØË™§ËôïÁêÜÊµÅÁ®ã

### ‰ΩøÁî®ËÄÖÂèñÊ∂àÁôªÂÖ•

```
User  GoogleUIClient  SignInUseCase  SignInViewModel  SignInScreen
 |          |              |                |              |
 |--ÂèñÊ∂à--->|              |                |              |
 |          |              |                |              |
 |          |--return null->                |              |
 |          |              |                |              |
 |          |              |--UserCancelledException      |
 |          |              |                |              |
 |          |              |--Result.Failure->             |
 |          |              |                |              |
 |          |              |                |--fold(onFailure)
 |          |              |                |              |
 |          |              |                |--SignInResult.Failure
 |          |              |                |              |
 |          |              |                |--emit(ShowSnackbar)
 |          |              |                |              |
 |          |              |                |              |--È°ØÁ§∫ÈåØË™§-->
 |          |              |                |              |   Ë®äÊÅØ     |
```

### Firebase Ë™çË≠âÂ§±Êïó

```
Firebase  GoogleAuthProvider  AuthManager  SignInUseCase  SignInViewModel
   |              |                 |            |              |
   |--Â§±Êïó------->|                 |            |              |
   |  Exception   |                 |            |              |
   |              |                 |            |              |
   |              |--Result.Failure->            |              |
   |              |  (ProviderError)             |              |
   |              |                 |            |              |
   |              |                 |--Result.Failure->         |
   |              |                 |            |              |
   |              |                 |            |--Exception-->|
   |              |                 |            |              |
   |              |                 |            |              |--SignInResult.Failure
   |              |                 |            |              |  "Google ÁôªÂÖ•Â§±Êïó"
```

---

## üîë Token ÊµÅËΩâË©≥Á¥∞Âúñ

### Android Token ÊµÅÁ®ã

```
Google       CredentialManager    AndroidGoogleUIClient    Firebase SDK    Firebase Server
Account              |                      |                    |                |
  |                  |                      |                    |                |
  |--‰ΩøÁî®ËÄÖÊéàÊ¨ä----->|                      |                    |                |
  |                  |                      |                    |                |
  |                  |--ËøîÂõû GoogleIdTokenCredential------------>|                |
  |                  |    {                 |                    |                |
  |                  |      idToken: "eyJhbG...",               |                |
  |                  |      id: "user@gmail.com"                |                |
  |                  |    }                 |                    |                |
  |                  |                      |                    |                |
  |                  |                      |--ÊèêÂèñ idToken----->|                |
  |                  |                      |                    |                |
  |                  |                      |--GoogleAuthProvider.credential()   |
  |                  |                      |    (idToken, null) |                |
  |                  |                      |                    |                |
  |                  |                      |<--AuthCredential---|                |
  |                  |                      |                    |                |
  |                  |                      |                    |--signInWithCredential()-->
  |                  |                      |                    |   (AuthCredential)        |
  |                  |                      |                    |                           |
  |                  |                      |                    |                |--È©óË≠â--->|
  |                  |                      |                    |                |  idToken |
  |                  |                      |                    |                |          |
  |                  |                      |                    |                |<--Á¢∫Ë™ç---|
  |                  |                      |                    |<--FirebaseUser-----------|
  |                  |                      |<------------------ËøîÂõû User Ë≥áË®ä--------------|
```

### iOS Token ÊµÅÁ®ã

```
Google       GoogleSignIn SDK    Swift Bridge    GoogleAuthProvider    Firebase
Account             |                  |                  |                |
  |                 |                  |                  |                |
  |--‰ΩøÁî®ËÄÖÊéàÊ¨ä---->|                  |                  |                |
  |                 |                  |                  |                |
  |                 |--ËøîÂõû GIDGoogleUser                 |                |
  |                 |    {            |                  |                |
  |                 |      idToken: "eyJhbG...",         |                |
  |                 |      accessToken: "ya29.a0..."     |                |
  |                 |    }            |                  |                |
  |                 |                  |                  |                |
  |                 |                  |--callback(idToken, accessToken)-->
  |                 |                  |                  |                |
  |                 |                  |                  |--GoogleAuthProvider.credential()
  |                 |                  |                  |   (idToken, accessToken)
  |                 |                  |                  |                |
  |                 |                  |                  |<--AuthCredential
  |                 |                  |                  |                |
  |                 |                  |                  |--signInWithCredential()-->
  |                 |                  |                  |                |
  |                 |                  |                  |<--FirebaseUser--|
```

**ÈóúÈçµÂ∑ÆÁï∞**Ôºö

- **Android**: Âè™‰ΩøÁî® ID Token
- **iOS**: ‰ΩøÁî® ID Token + Access Token

---

## üìä Êï∏ÊìöÊµÅËΩâÂúñ

### ÂÆåÊï¥Êï∏ÊìöËΩâÊèõÈèà

```
‰ΩøÁî®ËÄÖÊìç‰Ωú
    ‚Üì
UI Event (ÈªûÊìäÊåâÈàï)
    ‚Üì
SignInAction.ClickGoogle
    ‚Üì
ViewModel dispatch
    ‚Üì
providerType: ProviderType.Google
    ‚Üì
SignInUseCase invoke(Google, uiClients)
    ‚Üì
uiClients[Google] ‚Üí AndroidGoogleUIClient
    ‚Üì
getCredential() ‚Üí AuthCredential
    ‚Üì
    {
      idToken: "eyJhbGciOiJSUzI1NiIsImtpZCI6Ij...",
      accessToken: null  // Android
    }
    ‚Üì
authManager.signIn(Google, credential)
    ‚Üì
GoogleAuthProvider.signIn(credential)
    ‚Üì
Firebase.signInWithCredential(credential)
    ‚Üì
Result<FirebaseUser>
    ‚Üì
UserSession
    {
      uid: "abc123...",
      email: "user@gmail.com",
      providerIds: ["google.com"]
    }
    ‚Üì
Result.Success(UserSession)
    ‚Üì
SignInResult.Success(session)
    ‚Üì
SignInState(isLoading=false, user=session)
    ‚Üì
SignInEffect.NavigateHome
    ‚Üì
Â∞éËà™Âà∞‰∏ªÁï´Èù¢
```

---

## üéØ ÈóúÈçµÊôÇÈñìÈªû

| ÈöéÊÆµ                  | È†ê‰º∞ÊôÇÈñì      | Ë™™Êòé              |
|---------------------|-----------|-----------------|
| UI ‰∫ã‰ª∂ ‚Üí ViewModel   | < 1ms     | ÂêåÊ≠•Êìç‰Ωú            |
| ViewModel ‚Üí UseCase | < 1ms     | ÂáΩÊï∏Ë™øÁî®            |
| UseCase ‚Üí UIClient  | 1-3Áßí      | È°ØÁ§∫ Google ÁôªÂÖ• UI |
| UIClient ‚Üí Firebase | 500ms-2Áßí  | Á∂≤Áµ°Ë´ãÊ±Ç + È©óË≠â       |
| Firebase ‚Üí ÁµêÊûúËøîÂõû     | 100-500ms | Êï∏ÊìöËôïÁêÜ            |
| ÁµêÊûú ‚Üí UI Êõ¥Êñ∞          | < 10ms    | State Êõ¥Êñ∞        |
| **Á∏ΩË®à**              | **2-6Áßí**  | ÂèñÊ±∫ÊñºÁ∂≤Áµ°Âíå‰ΩøÁî®ËÄÖÊìç‰Ωú     |

---

## üîç Âπ≥Âè∞Â∑ÆÁï∞Â∞çÊØî

| ÁâπÊÄß            | Android                 | iOS                       |
|---------------|-------------------------|---------------------------|
| **UI Client** | `AndroidGoogleUIClient` | `GoogleUIClientImpl`      |
| **ÊÜëË≠â API**    | Credential Manager      | GoogleSignIn SDK          |
| **ÂâµÂª∫‰ΩçÁΩÆ**      | Composable (Activity)   | Composable (AuthProvider) |
| **Token È°ûÂûã**  | ID Token only           | ID Token + Access Token   |
| **UI È°ØÁ§∫**     | Á≥ªÁµ±Â∏≥ËôüÈÅ∏ÊìáÂô®                 | Google ÁôªÂÖ•Ë¶ñÂúñ               |
| **ÂéüÁîüÊ©ãÊé•**      | ÁÑ°ÈúÄ                      | Swift Bridge              |

---

## üìù Á∏ΩÁµê

### ÊµÅÁ®ãÁâπÈªû

1. **ÂàÜÂ±§Ê∏ÖÊô∞**: UI ‚Üí Presentation ‚Üí Domain ‚Üí Data ‚Üí External
2. **ÂñÆÂêëÊï∏ÊìöÊµÅ**: MVI/UDF Ê®°ÂºèÁ¢∫‰øùÂèØÈ†êÊ∏¨ÊÄß
3. **Âπ≥Âè∞ÈöîÈõ¢**: expect/actual Ê©üÂà∂ËôïÁêÜÂπ≥Âè∞Â∑ÆÁï∞
4. **ÂèØÊ∏¨Ë©¶ÊÄß**: ÊØèÂ±§ÈÉΩÂèØÁç®Á´ã mock ÂíåÊ∏¨Ë©¶
5. **ÈåØË™§ËôïÁêÜ**: ÂÆåÊï¥ÁöÑÁï∞Â∏∏ÊçïÁç≤Âíå‰ΩøÁî®ËÄÖÂèçÈ•ã

### ÂÑ™Âã¢

‚úÖ **ÁîüÂëΩÈÄ±ÊúüÂÆâÂÖ®**: Âú® Composable ‰∏≠ÂâµÂª∫ÔºåËá™ÂãïÁÆ°ÁêÜÁîüÂëΩÈÄ±Êúü  
‚úÖ **‰æùË≥¥Ê≥®ÂÖ•**: ‰ΩøÁî® Koin parametersOf ÈùàÊ¥ªÊ≥®ÂÖ•  
‚úÖ **Builder Ê®°Âºè**: ÂÑ™ÈõÖÁöÑ API Ë®≠Ë®à  
‚úÖ **Clean Architecture**: ÂÆåÁæéÈÅµÂæ™ÂàÜÂ±§ÂéüÂâá  
‚úÖ **Ë∑®Âπ≥Âè∞‰∏ÄËá¥**: Android Âíå iOS ÂÖ±‰∫´Ê†∏ÂøÉÈÇèËºØ

---

**ÊñáÊ™îÁâàÊú¨**: 1.0  
**ÊúÄÂæåÊõ¥Êñ∞**: 2025-01-24  
**Êû∂ÊßãË©ïÂàÜ**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
